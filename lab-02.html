<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  Lab 2: Dragster Traction Control | EME 134: Vehicle Stability
</title>
  <link rel="canonical" href="https://moorepants.github.io/eme134/lab-02.html">


  <link rel="stylesheet" href="https://moorepants.github.io/eme134/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://moorepants.github.io/eme134/theme/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://moorepants.github.io/eme134/theme/css/pygments/emacs.min.css">
  <link rel="stylesheet" href="https://moorepants.github.io/eme134/theme/css/theme.css">

  <link rel="alternate" type="application/atom+xml" title="Full Atom Feed"
        href="https://moorepants.github.io/eme134/feeds/all.atom.xml">
  
  <meta name="description" content="Contents Learning Objectives Introduction System Description Equations of Motion Inputs Friction Driving torque Outputs Constant Parameters Initial Conditions Time Steps Deliverables Tips Assessment Rubric Learning Objectives After completing this lab you will be able to: formulate the explicit first order ordinary differential equations for the longitudinal dynamics of a drag â€¦">
  <script>
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o);
      a.async = 1;
      a.src = g;
      m = s.getElementsByTagName(o)[0];
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-15966419-8', 'auto');
    ga('send', 'pageview');
  </script>


</head>

<body>
  <header class="header">
    <div class="container">
<div class="row">
  <div class="col-sm-12">
    <h1 class="title"><a href="https://moorepants.github.io/eme134/">EME 134: Vehicle Stability</a></h1>
      <ul class="list-inline">
            <li class="list-inline-item"><a href="https://moorepants.github.io/eme134/">Syllabus</a></li>
            <li class="list-inline-item"><a href="https://moorepants.github.io/eme134/schedule.html">Schedule</a></li>
            <li class="list-inline-item"><a href="https://moorepants.github.io/eme134/labs.html">Labs</a></li>
            <li class="list-inline-item"><a href="https://moorepants.github.io/eme134/resources.html">Resources</a></li>
      </ul>
  </div>
</div>    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>  Lab 2: Dragster Traction Control
</h1>
      <hr>

<article class="article">
  <div class="content">
    <div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#learning-objectives" id="id2">Learning Objectives</a></li>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#system-description" id="id4">System Description</a><ul>
<li><a class="reference internal" href="#equations-of-motion" id="id5">Equations of Motion</a></li>
<li><a class="reference internal" href="#inputs" id="id6">Inputs</a><ul>
<li><a class="reference internal" href="#friction" id="id7">Friction</a></li>
<li><a class="reference internal" href="#driving-torque" id="id8">Driving torque</a></li>
</ul>
</li>
<li><a class="reference internal" href="#outputs" id="id9">Outputs</a></li>
<li><a class="reference internal" href="#constant-parameters" id="id10">Constant Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#initial-conditions" id="id11">Initial Conditions</a></li>
<li><a class="reference internal" href="#time-steps" id="id12">Time Steps</a></li>
<li><a class="reference internal" href="#deliverables" id="id13">Deliverables</a></li>
<li><a class="reference internal" href="#tips" id="id14">Tips</a></li>
<li><a class="reference internal" href="#assessment-rubric" id="id15">Assessment Rubric</a></li>
</ul>
</div>
<div class="section" id="learning-objectives">
<h2><a class="toc-backref" href="#id2">Learning Objectives</a></h2>
<p>After completing this lab you will be able to:</p>
<ul class="simple">
<li>formulate the explicit first order ordinary differential equations for the
longitudinal dynamics of a drag racing car</li>
<li>translate ordinary differential equations into a computer function that
evaluates the equations at any given point in time</li>
<li>develop a function that evaluates state dependent input functions</li>
<li>numerically integrate ordinary differential equations with Octave/Matlab's
<a class="reference external" href="https://www.mathworks.com/help/matlab/ref/ode45.html">ode45</a></li>
<li>implement and tune a longitudinal traction control system</li>
<li>create complete and legible plots of the resulting input, state, and output
trajectories</li>
<li>create a report with textual explanations and plots of the simulation</li>
</ul>
<div class="alert alert-info topic">
<p class="topic-title">Information</p>
<p>Extra information (asides) are in blue boxes.</p>
</div>
<div class="alert alert-warning topic">
<p class="topic-title">Warnings</p>
<p>Warnings are in yellow boxes.</p>
</div>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a></h2>
<p>In this lab, you will investigate the longitudinal dynamics of a car in a <a class="reference external" href="https://en.wikipedia.org/wiki/Drag_racing">drag
race</a> in which the motion is governed by a model of longitudinal <a class="reference external" href="https://en.wikipedia.org/wiki/Slip_(vehicle_dynamics)">tire slip</a>.
This drag race is a little special because it has a patch of ice part way down
the track. You will explore the performance on this partially slippery track
and then add a simple traction control system to attempt to improve
performance.</p>
<p>This is a video of a variety of cars in typical drag races:</p>
<iframe width="560" height="315"
src="https://www.youtube.com/embed/rw3LE78gwhg" frameborder="0"
allow="accelerometer; autoplay; encrypted-media; gyroscope;
picture-in-picture" allowfullscreen></iframe><p>Watch the car tires carefully and notice the large deformations that occur.
This is a contributor to &quot;tire slip&quot;.</p>
</div>
<div class="section" id="system-description">
<h2><a class="toc-backref" href="#id4">System Description</a></h2>
<p>A car accelerating along flat ground can be reasonably modeled by the coupled
dynamics of a particle with the mass of the car <span class="math">\(m\)</span> that is pushed along
by a propulsive force and is resisted by a force that models <a class="reference external" href="https://en.wikipedia.org/wiki/Drag_(physics)">air drag</a>. The
propulsive force is arrived at by modeling a single wheel which has a spin
moment of inertia <span class="math">\(I\)</span> equivalent to the four wheels, bearing friction
<span class="math">\(\tau_B\)</span>, wheel-ground contact friction <span class="math">\(F_f\)</span>, and an applied
torque <span class="math">\(\tau\)</span> arising from an idealized drivetrain. The propulsive force
is then equal in magnitude to the friction force generated at the wheel-ground
contact. Figure 1 provides a free body diagram of the system.</p>
<div class="figure align-center">
<img alt="" src="https://objects-us-east-1.dream.io/eme134/2020s/lab-02-fig-01.png" style="width: 400px;" />
<p class="caption"><strong>Figure 1</strong>: Schematics of the longitudinal car dynamics model.</p>
</div>
<p>The particle representing the car only has forward motion and its position is
tracked by the time varying variable <span class="math">\(x\)</span> as wells as its velocity
<span class="math">\(v=\dot{x}\)</span>. The drag due to air resistance can be modeled by the drag
equation:</p>
<div class="math">
\begin{equation*}
F_D = \frac{1}{2} \rho C_D A v^2
\end{equation*}
</div>
<p>The wheel can be modeled as a rotating disc with a radius equal to the
effective <em>rolling radius</em> of the cars' tires <span class="math">\(r\)</span>. The rotational
acceleration of the wheel is increased by an ideal applied torque
<span class="math">\(\tau_D\)</span> from the drivetrain. The rotational motion is resisted by
bearing friction; modeled with a simple viscous damping model where <span class="math">\(b\)</span>
is the damping coefficient:</p>
<div class="math">
\begin{equation*}
\tau_B = b \omega
\end{equation*}
</div>
<p>Lastly, there is a torque generated by the ground friction:</p>
<div class="math">
\begin{equation*}
\tau_F = F_f r
\end{equation*}
</div>
<p>The friction force <span class="math">\(F_f\)</span> can be modeled by a Coulomb-like equation which
has a coefficient of friction <span class="math">\(\mu\)</span> that varies with the drive slip ratio
<span class="math">\(s_D\)</span> and is proportional to the normal force <span class="math">\(F_N\)</span> (the car's
total weight in this case).</p>
<div class="math">
\begin{equation*}
F_f = \mu(s_D) F_N
\end{equation*}
</div>
<div class="section" id="equations-of-motion">
<h3><a class="toc-backref" href="#id5">Equations of Motion</a></h3>
<p>You will need to form Newton's Second Law and write it as two first order ODEs
for the particle representing the car's longitudinal motion:</p>
<div class="math">
\begin{align*}
m\dot{v} &amp; = \sum F \\
\dot{x} &amp; = v
\end{align*}
</div>
<p>Next you will need to form Euler's Second Law for the wheel:</p>
<div class="math">
\begin{align*}
I\dot{\omega} &amp; = \sum \tau \\
\dot{\theta} &amp; = \omega
\end{align*}
</div>
<p><strong>Make sure that you have correct signs on the elements of each summation
above.</strong></p>
<p>These can be written as four first order explicit ordinary differential
equations:</p>
<div class="math">
\begin{align*}
\dot{x} &amp; = \textrm{?} \\
\dot{v} &amp; = \textrm{?} \\
\dot{\theta} &amp; = \textrm{?} \\
\dot{\omega} &amp; =\textrm{?}
\end{align*}
</div>
<p>These equations define expressions for the derivatives of the four time varying
state variables <span class="math">\(x,v,\theta,\omega\)</span> which are described below.</p>
<table border="1" class="table table-striped table-bordered docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Symbol</th>
<th class="head">Description</th>
<th class="head">Units</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><span class="math">\(x\)</span></td>
<td>Longitudinal distance of the car</td>
<td><span class="math">\(\textrm{m}\)</span></td>
</tr>
<tr><td><span class="math">\(v\)</span></td>
<td>Longitudinal velocity of the car</td>
<td><span class="math">\(\textrm{m/s}\)</span></td>
</tr>
<tr><td><span class="math">\(\theta\)</span></td>
<td>Angle of the car's wheel</td>
<td><span class="math">\(\textrm{rad}\)</span></td>
</tr>
<tr><td><span class="math">\(\omega\)</span></td>
<td>Angular rate of the car's wheel</td>
<td><span class="math">\(\textrm{rad/s}\)</span></td>
</tr>
</tbody>
</table>
<p>You will use the section <a class="reference external" href="https://moorepants.github.io/eme171/ode-integration-best-practices-with-octavematlab.html#defining-the-state-derivative-function">Defining the State Derivative Function</a>
for these equations.</p>
</div>
<div class="section" id="inputs">
<h3><a class="toc-backref" href="#id6">Inputs</a></h3>
<p>The friction force <span class="math">\(F_f\)</span> and the driving torque <span class="math">\(\tau_D\)</span> should be
treated as inputs to the above equations of motion. These input equations
should be defined in a input function. See <a class="reference external" href="https://moorepants.github.io/eme171/ode-integration-best-practices-with-octavematlab.html#time-varying-inputs">Time Varying Inputs</a>
for more information. The inputs function should take in the time, current
state, and constants structure and produce a vector with <span class="math">\(\tau_D\)</span>,
<span class="math">\(F_f\)</span>, <span class="math">\(s_D\)</span>, and <span class="math">\(\mu\)</span>.</p>
<div class="section" id="friction">
<h4><a class="toc-backref" href="#id7">Friction</a></h4>
<p>The driving slip ratio <span class="math">\(s_D\)</span> characterizes the actual forward velocity
relative to the ideal pure rolling velocity and is defined as:</p>
<div class="math">
\begin{equation*}
s_D = 1 - \frac{v}{\omega r}
\end{equation*}
</div>
<p>If <span class="math">\(v = \omega r\)</span> there is no slip, i.e. pure rolling. If <span class="math">\(v &lt;
\omega r\)</span> there is slip and the car does not advance as fast as it would if
there were pure rolling. If <span class="math">\(s_D \geq 1\)</span> the wheel is purely sliding on
the ground (a burnout with no forward propulsion)</p>
<p>The longitudinal coefficient of friction <span class="math">\(\mu\)</span> is a function of the slip
ratio. This relationship is empirically derived for different tires and ground
surface types. A mathematical model that does a good job at describing this
relationship is:</p>
<div class="math">
\begin{equation*}
\mu(s_D) = A[B(1 - e^{-C s_D}) - D s_D]
\end{equation*}
</div>
<p>where <span class="math">\(A,B,C,D\)</span> are the coefficients that characterize the model's best
fit to the empirical data. You are provided values for a typical tire on dry
concrete and a typical tire on icy concrete in the &quot;Constant Parameters&quot;
section below. <strong>Figure 2</strong> shows the basic shape of these functions for dry
concrete and icy concrete.</p>
<div class="figure align-center">
<img alt="" src="https://objects-us-east-1.dream.io/eme134/2020s/lab-02-fig-02.png" style="width: 600px;" />
<p class="caption"><strong>Figure 2</strong>: Typical relationship between the slip ratio and the
coefficient of friction.</p>
</div>
<p>The race track will be 200 m long with a patch of ice between the 50 m and 100
m marks. You'll need to switch between the two sets of friction equation
coefficients at the boundaries between dry and icy. You may be inclined to
switch between these two conditions instantly, but numerical integration
routines like <tt class="docutils literal">ode45</tt> are designed to work with continuous functions, so the
switch between dry and ice and back will need to be a smooth transition. The
<a class="reference external" href="https://en.wikipedia.org/wiki/Logistic_function">logistic function</a> provides a nice way to smoothly transition between two
values. Below are the equations to calculate the coefficient values for any
value of <span class="math">\(x\)</span>. You'll need to implement these using some form of control
flow like an if-else or switch statement for each of the coefficients
<span class="math">\(A,B,C,D\)</span>.</p>
<div class="figure align-center">
<img alt="" src="https://objects-us-east-1.dream.io/eme134/2020s/lab-02-fig-03.png" style="width: 600px;" />
<p class="caption"><strong>Figure 3</strong>: Use of the logistic function for a smooth transition between
the coefficients.</p>
</div>
<p>The following shows the piecewise function for <span class="math">\(A\)</span>:</p>
<div class="math">
\begin{equation*}
A =
\begin{cases}
   A_{dry} &amp; x \leq 45 \\
   \frac{A_{ice} - A_{dry}}{1 + e^{-5(x-47.5)}} + A_{dry} &amp; 45 &lt; x \leq 50 \\
   A_{ice} &amp; 50 &lt; x \leq 100 \\
   \frac{A_{dry} - A_{ice}}{1 + e^{-5(x-102.5)}} + A_{ice} &amp; 100 &lt; x \leq 105 \\
   A_{dry} &amp; x &gt; 105
\end{cases}
\end{equation*}
</div>
</div>
<div class="section" id="driving-torque">
<h4><a class="toc-backref" href="#id8">Driving torque</a></h4>
<p>For the driving <span class="math">\(\tau_D\)</span> you should consider two cases: without traction
control and with traction control.</p>
<p>In the without traction control case, <span class="math">\(\tau_D\)</span> should computed assuming
the input power is a constant and always at its maximum <span class="math">\(P_{max}\)</span>. This
assumes that the car's transmission is ideal and is always at the right gear
ratio to operate at the engine's peak power output. <span class="math">\(\tau_D\)</span> should then
be governed by the current angular rate of the wheels <span class="math">\(\omega\)</span>. This
models &quot;flooring&quot; the gas pedal and shifting the transmission perfectly to
always maintain maximum power to the wheels.</p>
<div class="math">
\begin{equation*}
\tau_D = \frac{P_{max}}{\omega}
\end{equation*}
</div>
<p>For the traction control case, you will implement a simple proportional
feedback traction control system that governs the torque by assuming you can
measure the slip ratio and can calculate the error between it and a desired
value <span class="math">\(s_{D peak} - s_D\)</span>. The driving torque will then be set to a gain
<span class="math">\(k\)</span> multiplied by the error. Thus torque will be increased with the error
is growing and decreased when shrinking.</p>
<div class="math">
\begin{equation*}
\tau_D = k(s_{D peak} - s_D)
\end{equation*}
</div>
<p>You'll need to determine the slip ratio that corresponds to the maximum
coefficient of friction for the dry and icy conditions and use that for
<span class="math">\(s_{D peak}\)</span>. The gain <span class="math">\(k\)</span> should be a positive value. You'll need
to try different values to home in on the best performance for your car.
Inspect the <span class="math">\(\mu\)</span> and <span class="math">\(s_D\)</span> curves versus time to see if this is
behaving as expected. Also, the value of <span class="math">\(\tau_D\)</span> produced by the
controller should never cause the input power to be higher than
<span class="math">\(P_{max}\)</span>. So always take the minimum of <span class="math">\(\tau_D\)</span> in the without
control case vs. the with control case to stay under the maximum power limit.
In other words, the controller can't draw more power than <span class="math">\(P_{max}\)</span>.</p>
</div>
</div>
<div class="section" id="outputs">
<h3><a class="toc-backref" href="#id9">Outputs</a></h3>
<p>Your outputs should include all of the state trajectories and include the
trajectories of the time varying slip ratio, coefficient of friction, driving
torque, and friction force which have been computed already above in the state
derivative and input functions. Additionally, compute the total energy consumed
in traversing the 200 meter race distance. The time rate of change of the input
energy is the input power which is related to the torque applied to the wheels
and the angular rate of the wheels:</p>
<div class="math">
\begin{equation*}
\dot{E}_{in} = P_{in} = \tau_D \omega
\end{equation*}
</div>
<p>The input energy can be added as a fifth state variable to recover the total
accumulated energy consumed. The trajectory of the power should also be added
as an output variable.</p>
<p>You will use the section <a class="reference external" href="https://moorepants.github.io/eme171/ode-integration-best-practices-with-octavematlab.html#outputs-other-than-the-states">Outputs Other Than The States</a>
to compute these values. The outputs function should take in the time, current
state, input function handle, and constants structure and produce a vector with
<span class="math">\(\tau_D\)</span>, <span class="math">\(F_f\)</span>, <span class="math">\(s_D\)</span>, <span class="math">\(\mu\)</span>, <span class="math">\(P_{in}\)</span>.</p>
</div>
<div class="section" id="constant-parameters">
<h3><a class="toc-backref" href="#id10">Constant Parameters</a></h3>
<p>The majority of the variables in the five differential equations and input
equations above do not vary with time, i.e. they are constant. Below is a table
with an explanation of each variable, its value, and its units. Note that the
units are a self consistent set of SI base units.</p>
<table border="1" class="table table-striped table-bordered docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Symbol</th>
<th class="head">Description</th>
<th class="head">Value</th>
<th class="head">Units</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><span class="math">\(A\)</span></td>
<td>Car frontal area</td>
<td><span class="math">\(0.5\)</span></td>
<td><span class="math">\(\textrm{m}^2\)</span></td>
</tr>
<tr><td><span class="math">\(C_D\)</span></td>
<td>Car drag coefficient</td>
<td><span class="math">\(0.7\)</span></td>
<td><span class="math">\(\textrm{unitless}\)</span></td>
</tr>
<tr><td><span class="math">\(I\)</span></td>
<td>Combined spin moment of inerta of all four wheels</td>
<td>2.0</td>
<td><span class="math">\(\textrm{kg}\cdot\textrm{m}^2\)</span></td>
</tr>
<tr><td><span class="math">\(P_{max}\)</span></td>
<td>Maximum power available at the driveshaft</td>
<td>745000</td>
<td><span class="math">\(\textrm{W}\)</span></td>
</tr>
<tr><td><span class="math">\(b\)</span></td>
<td>Wheel viscous coefficient</td>
<td>30.0</td>
<td><span class="math">\(\textrm{N}\cdot\textrm{m}\cdot\textrm{s}\)</span></td>
</tr>
<tr><td><span class="math">\(g\)</span></td>
<td>Acceleration due to gravity</td>
<td>9.81</td>
<td><span class="math">\(\textrm{m/s}^2\)</span></td>
</tr>
<tr><td><span class="math">\(k\)</span></td>
<td>Traction controller proportional gain</td>
<td>?</td>
<td><span class="math">\(\textrm{N}\cdot\textrm{m}\)</span></td>
</tr>
<tr><td><span class="math">\(m\)</span></td>
<td>Mass of the car</td>
<td>1000</td>
<td><span class="math">\(\textrm{kg}\)</span></td>
</tr>
<tr><td><span class="math">\(r\)</span></td>
<td>Radius of the wheel</td>
<td>0.2</td>
<td><span class="math">\(\textrm{m}\)</span></td>
</tr>
<tr><td><span class="math">\(\rho\)</span></td>
<td>Density of air</td>
<td>1.225</td>
<td><span class="math">\(\textrm{kg/m}^3\)</span></td>
</tr>
<tr><td><span class="math">\(A_{dry}\)</span></td>
<td>Coefficient for friction equation</td>
<td>0.9</td>
<td>NA</td>
</tr>
<tr><td><span class="math">\(B_{dry}\)</span></td>
<td>Coefficient for friction equation</td>
<td>1.07</td>
<td>NA</td>
</tr>
<tr><td><span class="math">\(C_{dry}\)</span></td>
<td>Coefficient for friction equation</td>
<td>28</td>
<td>NA</td>
</tr>
<tr><td><span class="math">\(D_{dry}\)</span></td>
<td>Coefficient for friction equation</td>
<td>0.3</td>
<td>NA</td>
</tr>
<tr><td><span class="math">\(A_{ice}\)</span></td>
<td>Coefficient for friction equation</td>
<td>0.1</td>
<td>NA</td>
</tr>
<tr><td><span class="math">\(B_{ice}\)</span></td>
<td>Coefficient for friction equation</td>
<td>1.07</td>
<td>NA</td>
</tr>
<tr><td><span class="math">\(C_{ice}\)</span></td>
<td>Coefficient for friction equation</td>
<td>38</td>
<td>NA</td>
</tr>
<tr><td><span class="math">\(D_{ice}\)</span></td>
<td>Coefficient for friction equation</td>
<td>0.7</td>
<td>NA</td>
</tr>
</tbody>
</table>
<p>You will use the section <a class="reference external" href="https://moorepants.github.io/eme171/ode-integration-best-practices-with-octavematlab.html#integrating-the-equations">Integrating the Equations</a>
to for these values.</p>
</div>
</div>
<div class="section" id="initial-conditions">
<h2><a class="toc-backref" href="#id11">Initial Conditions</a></h2>
<p>Start the car with an initial forward speed of 1 m/s (a rolling start) and set
the wheel angular rate such that the wheel is purely rolling with no slip. All
other states can be initialized as zero. See <a class="reference external" href="https://moorepants.github.io/eme171/ode-integration-best-practices-with-octavematlab.html#integrating-the-equations">Integrating the Equations</a>
for how to set up the initial condition vector. Make sure that your initial
conditions are arranged in the same order as your state variables.</p>
</div>
<div class="section" id="time-steps">
<h2><a class="toc-backref" href="#id12">Time Steps</a></h2>
<p>Simulate the system for 10 seconds with time steps of 1/100th of a second. If
your simulation is working with the provided constants you should see just over
300 meters of travel in 10 seconds.</p>
</div>
<div class="section" id="deliverables">
<h2><a class="toc-backref" href="#id13">Deliverables</a></h2>
<p>In your lab report, show your work for creating and evaluating the simulation
model. Include any calculations you had to do, for example those for state
equations, initial conditions, input equations, time parameters, and any other
parameters.  Additionally, provide the indicated plots and answer the questions
below.  Append a copy of your Matlab/Octave code to the end of the report. The
report should follow the <a class="reference external" href="https://moorepants.github.io/eme134/report-guide.html">report template and guidelines</a>.</p>
<p>Submit a report as a single PDF file to Canvas by the due date that addresses
the following items:</p>
<ol class="arabic simple">
<li>Create a function defined in an m-file that evaluates the right hand side of
the ODEs, i.e. evaluates the state derivatives. See <a class="reference external" href="https://moorepants.github.io/eme171/ode-integration-best-practices-with-octavematlab.html#defining-the-state-derivative-function">Defining the State
Derivative Function</a> for an explanation.</li>
<li>Create two functions defined each in an m-file that calculates the two
requested inputs: with and without traction control. See <a class="reference external" href="https://moorepants.github.io/eme171/ode-integration-best-practices-with-octavematlab.html#time-varying-inputs">Time Varying
Inputs</a> for an explanation.</li>
<li>Create a function defined in an m-file that calculates the requested
outputs. See <a class="reference external" href="https://moorepants.github.io/eme171/ode-integration-best-practices-with-octavematlab.html#outputs-other-than-the-states">Outputs Other Than the States</a> for an explanation.</li>
<li>Create a script in an m-file that utilizes the above functions to
simulate system for the two scenarios: with and without traction control.
This should setup the constants, integrate the dynamics equations, and plot
each state, and output versus time. See <a class="reference external" href="https://moorepants.github.io/eme171/ode-integration-best-practices-with-octavematlab.html#integrating-the-equations">Integrating the Equations</a> for an
explanation.</li>
<li>Make a plot of the coefficients of friction versus slip ratio which includes
the curves for the dry and icy conditions. Indicate what slip ratios were
chosen for the peak traction.</li>
<li>Make plots of the outputs versus time of the scenario without traction
control and explain why you think the simulation is behaving realistically
or unrealistically.</li>
<li>Make plots to compare outputs versus time between the two scenarios: with
and without traction control. Plotting the each trajectory on its own or in
subplots with one color line for each scenario.</li>
<li>Report the time to the 200 m mark for each scenario and discuss the results
and explain why the vehicle that wins won. Report the input energy consumed
at the 200 m mark and discuss the differences in energy consumption, why it
is, and what the implications are. You can present the joules of energy in
equivalent liters of gasoline to help get a idea of the quantity.</li>
</ol>
</div>
<div class="section" id="tips">
<h2><a class="toc-backref" href="#id14">Tips</a></h2>
<p>Make sure to construct the simulation in stages. Here is a good path:</p>
<ol class="arabic simple">
<li>Create the state derivatives function.</li>
<li>Create the inputs function with no traction control and no ice.</li>
<li>Test the simulation till you are confident it is producing realistic
results.</li>
<li>Add ice to the input function. Test the simulation until it seems to be
working.</li>
<li>Create another input function with only control, no ice. Test the
simulation until it seems to be working.</li>
<li>Add both ice and control to the input function in 5. Test the simulation
until it seems to be working.</li>
<li>Create an outputs function and make your final plots.</li>
</ol>
</div>
<div class="section" id="assessment-rubric">
<h2><a class="toc-backref" href="#id15">Assessment Rubric</a></h2>
<table border="1" class="table table-striped table-bordered docutils">
<caption>Score will be between 50 and 100.</caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Topic</th>
<th class="head">[10 pts] Exceeds expectations</th>
<th class="head">[5 pts] Meets expectatoins</th>
<th class="head">[0 pts] Does not meet expectations</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Functions</td>
<td>All Matlab/Octave functions are present and take correct inputs and
produce the expected outputs.</td>
<td>Some of the functions are present and mostly take correct inputs and
produce the expected outputs</td>
<td>No functions are present or not working at all.</td>
</tr>
<tr><td>Main Script</td>
<td>Constant parameters only defined once in main script(s);
Integration produces the correct state, input, and output trajectories;
Good choices in number of time steps and resolution are chosen and
justified.</td>
<td>Parameters are defined in multiple places; Integration produces some
correct state, input, and output trajectories; Poor choices in number of
time steps and resolution are chosen</td>
<td>Constants defined redundantly; Integration produces incorrect
trajectories; Poor choices in time duration and steps</td>
</tr>
<tr><td>Explanations</td>
<td>Explanation of two simulation comparisons are correct and well
explained; Plots of appropriate variables are used in the explanations</td>
<td>Explanation of two simulation comparisons is somewhat correct and
reasonably explained; Plots of appropriate variables are used in the
explanations, but some are missing</td>
<td>Explanation of two simulations are incorrect and poorly explained; Plots
are missing</td>
</tr>
<tr><td>Report and Code Formatting</td>
<td>All axes labeled with units, legible font sizes, informative captions;
Functions are documented with docstrings which fully explain the inputs
and outputs; Professional, very legible, quality writing; All report
format requirements met</td>
<td>Some axes labeled with units, mostly legible font sizes,
less-than-informative captions; Functions have docstrings but the inputs
and outputs are not fully explained; Semi-professional, somewhat
legible, writing needs improvement; Most report format requirements met</td>
<td>Axes do not have labels, legible font sizes, or informative captions;
Functions do not have docstrings; Report is not professionally written
and formatted; Report format requirements are not met</td>
</tr>
<tr><td>Contributions</td>
<td>Clear that all team members have made equitable contributions.</td>
<td>Not clear that contributions were equitable and you need to improve
balance of contributions.</td>
<td>No indication of equitable contributions.</td>
</tr>
</tbody>
</table>
</div>
<script type='text/javascript'>if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
  </div>
</article>


    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
      <li class="list-inline-item"><a href="https://moorepants.github.io/eme134/authors.html">Authors</a></li>
    <li class="list-inline-item"><a href="https://moorepants.github.io/eme134/archives.html">Archives</a></li>
    <li class="list-inline-item"><a href="https://moorepants.github.io/eme134/categories.html">Categories</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>
<div class="row">
  <div class="col-sm-4 mx-auto text-center text-muted" >
    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
      <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
    </a>
    <br />
    This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
  </div>
</div>    </div>
  </footer>
</body>

</html>